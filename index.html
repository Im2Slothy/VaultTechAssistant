<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vault-Tec Assistant | The Ultimate Fallout Discord Bot</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <header>
        <h1>Vault-Tec Assistant</h1>
        <p>System Status: ONLINE</p>
        <p><strong>The Wasteland is lonely. Turn on the Radio.</strong></p>
        <nav class="main-nav">
            <a class="button" href="https://discord.com/oauth2/authorize?client_id=1107428963246166026" target="_blank">Invite Bot</a>
            <a class="button button-alt" href="https://discord.gg/RQBhmWEzTx" target="_blank">Support Server</a>
        </nav>
    </header>

    <main>
        <section class="live-stats">
            <div class="stats-grid">
                <div class="stat-box">
                    <h4>>> Top Frequencies</h4>
                    <ol id="station-popularity-list">
                        <li id="loading-radio">Scanning Airwaves...</li>
                    </ol>
                </div>
                <div class="stat-box">
                    <h4>>> Most Used Systems</h4>
                    <ul id="popular-commands-list">
                        <li id="loading-commands">Accessing Data...</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="features">
            <h2>üìª 24/7 Wasteland Radio</h2>
            <p>The most popular feature on the server. Bring the iconic atmosphere of Fallout to your voice channels with a single command.</p>
            <ul>
                <li><strong>All Your Favorites:</strong> Diamond City Radio, Radio New Vegas, Appalachia Radio, and Classical.</li>
                <li><strong>No Downtime:</strong> The bot streams high-quality audio directly to your channel.</li>
                <li><strong>Simple Control:</strong> Just type <code>/radio [station]</code> to start listening.</li>
            </ul>
            
            <div class="carousel-container">
                <div class="carousel-item">
                    <img src="images/radio_main.png" alt="Radio Interface">
                    <div class="carousel-caption">Seamless Voice Channel Integration</div>
                </div>
                <div class="carousel-item">
                    <img src="images/radio_stats.png" alt="Radio Stats">
                    <div class="carousel-caption">Live Station Statistics</div>
                </div>
            </div>
        </section>

        <section class="features">
            <h2>üéí Wasteland Expeditions</h2>
            <p>Don't have time to grind? Play like <em>Fallout Shelter</em>. Send your dweller out into the unknown and check back later to see what they found.</p>
            <ul>
                <li><strong>Set It & Forget It:</strong> Send your dweller out for anywhere from <strong>1 hour to 168 hours (1 Week)</strong>.</li>
                <li><strong>Real-Time Simulation:</strong> While you are away, your dweller encounters enemies, finds loot, and explores landmarks.</li>
                <li><strong>Massive Rewards:</strong> The longer they stay out, the better the loot‚Äîif they survive.</li>
            </ul>

            <div class="carousel-container">
                <div class="carousel-item">
                    <img src="images/expedition_start.png" alt="Starting an Expedition">
                    <div class="carousel-caption">Choose your duration (up to 168 hours)</div>
                </div>
                <div class="carousel-item">
                    <img src="images/expedition_log.png" alt="Expedition Log">
                    <div class="carousel-caption">Read your Dweller's journey log</div>
                </div>
                <div class="carousel-item">
                    <img src="images/expedition_loot.png" alt="Expedition Loot">
                    <div class="carousel-caption">Collect rare weapons and caps</div>
                </div>
            </div>
        </section>
        
        <section class="features">
            <h2>üèóÔ∏è Build Your Settlement</h2>
            <p>Found a settlement, grow your population, and manage your resources. It‚Äôs a full management game inside Discord.</p>
            <ul>
                <li><strong>Resource Management:</strong> Balance Power, Water, and Food production to keep your happiness high.</li>
                <li><strong>Passive Income:</strong> Use <code>/settlement collect</code> to harvest the resources your settlers produced while you were offline.</li>
                <li><strong>Defense:</strong> Build defenses to protect your stockpile from raider attacks.</li>
            </ul>

            <div class="carousel-container">
                <div class="carousel-item">
                    <img src="images/settlement_view.png" alt="Settlement Overview">
                    <div class="carousel-caption">Manage population and happiness</div>
                </div>
                <div class="carousel-item">
                    <img src="images/settlement_build.png" alt="Building Structures">
                    <div class="carousel-caption">Construct Generators and much more</div>
                </div>
            </div>
        </section>

        <section class="features danger-zone">
            <h2>‚ö†Ô∏è Combat & Nuclear Launch</h2>
            <p>The wasteland is dangerous. Fight for survival or become the danger yourself.</p>
            <ul>
                <li><strong>Fallout 76 Nuke Codes:</strong> Admins can use <code>/nukecodes set_channel</code> to create a pinned message that automatically updates with the real-world weekly codes for Alpha, Bravo, and Charlie silos.</li>
                <li><strong>Wasteland Encounters:</strong> Fight Ghouls, Super Mutants, and Deathclaws for XP and loot.</li>
                <li><strong>Nuke Silos:</strong> Hunt down keycards, decrypt the launch codes, and fire a nuke to trigger server-wide boss events.</li>
                <li><strong>World Bosses:</strong> Defeat the Scorchbeast Queen or the Wendigo Colossus for endgame gear.</li>
            </ul>

            <div class="carousel-container">
                <div class="carousel-item">
                    <img src="images/nuke_codes.png" alt="Combat Encounter">
                    <div class="carousel-caption">Fallout 76 Weekly Nuke Codes</div>
                </div>
                <div class="carousel-item">
                    <img src="images/nuke_launch.png" alt="Nuke Launch">
                    <div class="carousel-caption">DEFCON 1: Launch Initiated</div>
                </div>
                <div class="carousel-item">
                    <img src="images/combat_boss.png" alt="Boss Fight">
                    <div class="carousel-caption">Server-wide Boss Battles</div>
                </div>
            </div>
        </section>

        <section class="features">
            <h2>üé≤ Economy & Casino</h2>
            <p>Trade with other players, set up your own vending machine shop, or gamble your caps away at the New Vegas Strip.</p>
            <ul>
                <li><strong>Global Market:</strong> <code>/browse_shops</code> to buy items from other real players across servers.</li>
                <li><strong>Casino Games:</strong> Blackjack, Slots, Roulette, and Dice.</li>
                <li><strong>Hacking Minigame:</strong> Solve the terminal logic puzzles to hack into locked safes.</li>
            </ul>
             <div class="carousel-container">
                <div class="carousel-item">
                    <img src="images/vending_machine.png" alt="Vending Machine">
                    <div class="carousel-caption">Buy and Sell with Player-Run Shops</div>
                </div>
                <div class="carousel-item">
                    <img src="images/minigame_slots.png" alt="Slots">
                    <div class="carousel-caption">Win big at the Atomic Wrangler</div>
                </div>
                <div class="carousel-item">
                    <img src="images/hacking.png" alt="Hacking">
                    <div class="carousel-caption">Classic Terminal Hacking</div>
                </div>
            </div>
        </section>

        <section class="commands">
            <h2>Quick Command Reference</h2>
            <ul>
                <li><strong>/radio [station]</strong> <span>Start the music</span></li>
                <li><strong>/expedition start [hours]</strong> <span>Send dweller to wasteland</span></li>
                <li><strong>/settlement create</strong> <span>Found your base</span></li>
                <li><strong>/settlement collect</strong> <span>Gather generated resources</span></li>
                <li><strong>/profile</strong> <span>Check stats and caps</span></li>
                <li><strong>/inventory</strong> <span>View your loot</span></li>
                <li><strong>/nukelaunch</strong> <span>Endgame protocol</span></li>
                <li><strong>/help</strong> <span>View all commands</span></li>
            </ul>
        </section>
        
        <section class="easteregg">
            <p><strong>OVERSEER'S TIP:</strong> Always make sure your settlement has enough water before you log off for the night. Thirsty settlers don't work.</p>
        </section>
    </main>

    <footer class="site-footer">
        <div class="legal-links">
            <a href="terms.html">Terms of Service</a> | <a href="privacy.html">Privacy Policy</a>
        </div>
        <p class="disclaimer">Vault-Tec Assistant is a fan-made project. Fallout¬Æ and Vault-Tec¬Æ are trademarks of Bethesda Softworks LLC. This bot is not affiliated with Bethesda.</p>
    </footer>

    <div id="lightbox">
        <img id="lightbox-img" src="" alt="Full Screen View">
    </div>

    <script>
        const API_URL = "/api/stats";

        // Lightbox Logic
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        // Add click event to all carousel images
        document.querySelectorAll('.carousel-item img').forEach(img => {
            img.addEventListener('click', () => {
                lightboxImg.src = img.src; // Set lightbox image to clicked image
                lightbox.style.display = 'flex'; // Show lightbox
            });
        });

        // Close lightbox when clicking anywhere on it
        lightbox.addEventListener('click', () => {
            lightbox.style.display = 'none';
        });

        // Stats Logic
        async function fetchStats() {
            const commandsList = document.getElementById('popular-commands-list');
            const radioList = document.getElementById('station-popularity-list');

            try {
                const response = await fetch(API_URL);
                if (!response.ok) throw new Error("API Offline");
                const stats = await response.json();

                if (stats.popular_commands && stats.popular_commands.length > 0) {
                    commandsList.innerHTML = '';
                    stats.popular_commands.forEach(c => {
                        const li = document.createElement('li');
                        li.innerHTML = `<strong>/${c.command_name}</strong>: ${c.usage_count} uses`;
                        commandsList.appendChild(li);
                    });
                }
                if (stats.station_popularity && stats.station_popularity.length > 0) {
                    radioList.innerHTML = '';
                    stats.station_popularity.forEach(s => {
                        const li = document.createElement('li');
                        li.innerHTML = `<strong>${s.station_name}</strong>: ${s.listen_time_str}`;
                        radioList.appendChild(li);
                    });
                }
            } catch (error) {
                console.log("Stats API currently unreachable or in dev mode.");
                const loadCmd = document.getElementById('loading-commands');
                const loadRad = document.getElementById('loading-radio');
                if(loadCmd) loadCmd.innerText = ":: DATA LINK OFFLINE ::";
                if(loadRad) loadRad.innerText = ":: SIGNAL LOST ::";
            }
        }
        document.addEventListener('DOMContentLoaded', fetchStats);
    </script>
</body>
</html>